var dehighlight=function(e){showRows(e);for(var t=e.childNodes.length,a=0;t>a;a++){var n=e.childNodes[a];if(n.attributes&&n.attributes["class"]&&"highlighted"==n.attributes["class"].value)return void n.parentNode.parentNode.replaceChild(document.createTextNode(n.parentNode.innerHTML.replace(/<[^>]+>/g,"")),n.parentNode);3!=n.nodeType&&dehighlight(n)}},highlight=function(e,t){for(var a=t.childNodes.length,n=0;a>n;n++){var d=t.childNodes[n];if(3==d.nodeType){var s=d.data,r=s.toLowerCase();if(r.indexOf(e)>=0){hasClass(d.parentNode.parentNode,"header")||d.parentNode.parentNode.setAttribute("class","active");var i=document.createElement("span");d.parentNode.replaceChild(i,d);for(var l;-1!=(l=r.indexOf(e));)i.appendChild(document.createTextNode(s.substr(0,l))),i.appendChild(create_node(document.createTextNode(s.substr(l,e.length)))),s=s.substr(l+e.length),r=r.substr(l+e.length);i.appendChild(document.createTextNode(s))}}else highlight(e,d)}},create_node=function(e){var t=document.createElement("span");return t.setAttribute("class","highlighted"),t.attributes["class"].value="highlighted",t.appendChild(e),t},hideRows=function(e){for(var t=e.getElementsByTagName("tr"),a=t.length,n=0;a>n;n++)hasClass(t[n],"header")||hasClass(t[n],"active")||t[n].setAttribute("style","display:none")},showRows=function(e){for(var t=e.getElementsByTagName("tr"),a=t.length,n=0;a>n;n++)hasClass(t[n],"header")||(t[n].setAttribute("class",""),t[n].setAttribute("style",""))},hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},filterTable=function(e,t){dehighlight(document.getElementById(t)),e.value.length>0&&(highlight(e.value.toLowerCase(),document.getElementById(t)),document.getElementById("hideTr").checked&&setTimeout(function(){hideRows(document.getElementById(t))},100))};